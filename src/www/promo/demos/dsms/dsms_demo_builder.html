<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <link href='./css/dsms_builder.css' rel='stylesheet' type='text/css' />
  <script src='../../../js/jquery.js' type='text/javascript'></script>
  <script src='../../../js/persist-min.js' type='text/javascript'></script>
  <script src='../../../js/afycommon.js' type='text/javascript'></script>
  <script src='./js/dsms_common.js' type='text/javascript'></script>
  <script src='./js/dsms_builder.js' type='text/javascript'></script>
  <title>DSMS Demo Builder</title>
</head>
<body>

<!--
  This is a small application used to configure 'machines' consisting of
  a number of virtual sensors, each emitting streams of values.
  Rules can be attached to those machines to modify state, emit alerts etc.
-->

<div id='content'>
  <div id='logo'><img src='../../../images/dsms/logo_raw.png'></img></div>
  <div id='machines'>
    <h2>Machine</h2>
    <select id='machines_list'></select>
    <button id='machine_new'>New...</button>
  </div>
  <div id='sensors'>
    <div id='left_sensors'>
      <h2>Sensors</h2>
      <select id='sensors_list' size='10'></select>
      <div id='leftbottom_sensor'>
        <button id='sensor_new'>New...</button>
        <button id='sensor_delete'>Delete</button>
      </div>
    </div>
    <div id='right_sensors'>
      <table id='sensor_properties'>
        <thead>
          <tr>
            <th align='left'>Sensor Property</th>
            <th align='left'>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Sensor Id</td>
            <td id='sensorprop_id'></td>
          </tr>
          <tr>
            <td>Sensor Type</td>
            <td>
              <select id='sensorprop_type'>
                <option id='st_temperature'>Temperature (C)</option>
                <option id='st_pressure'>Pressure (kPa)</option>
                <option id='st_humidity'>Humidity (%)</option>
                <option id='st_tension'>Tension (V)</option>
                <option id='st_current'>Current (mA)</option>
                <option id='st_volume'>Volume (L)</option>
                <option id='st_flow'>Flow (L/s)</option>
                <option id='st_concentration'>Concentration (mg/L)</option>
                <option id='st_position'>Position (2d)</option>
                <option id='st_speed'>Speed (m/s)</option>
                <option id='st_level'>Level (%)</option>
                <option id='st_usage'>Usage (%)</option>
                <option id='st_money'>Money Value ($)</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>Connected To</td>
            <td><select id='sensorprop_connected'></select></td>
          </tr>
          <tr>
            <td>Simulation: Type of Curve</td>
            <td>
              <select id='sensorprop_curve'>
                <option id='sc_constant'>Constant</option>
                <option id='sc_linear_up'>Linear Up</option>
                <option id='sc_linear_down'>Linear Down</option>
                <option id='sc_sine'>Sine</option>
              </select>
            </td>
          </tr>
          <tr>
            <td>Simulation: Random Jitter</td>
            <td><input type='checkbox' id='sensorprop_jitter'></input></td>
          </tr>
          <tr>
            <td>Simulation: Random Shifts</td>
            <td><input type='checkbox' id='sensorprop_shifts'></input></td>
          </tr>
          <tr>
            <td>Simulation: Sampling Frequency (int ticks/event)</td>
            <td><input id='sensorprop_frequency'></input></td>
          </tr>
          <tr>
            <td>Simulation: Spread Factor</td>
            <td><input id='sensorprop_spread'></input></td>
          </tr>
          <tr>
            <td>Simulation: Min Value</td>
            <td><input id='sensorprop_min'></input></td>
          </tr>
          <tr>
            <td>Simulation: Max Value</td>
            <td><input id='sensorprop_max'></input></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div id='rules'>
    <div id='left_rules'>
      <h2>Rules</h2>
      <select id='rules_list' size='10'></select>
      <div id='leftbottom_rule'>
        <button id='rule_new'>New...</button>
        <button id='rule_delete'>Delete</button>
      </div>
    </div>
    <div id='right_rules'>
      <table id='sensor_properties'>
        <thead>
          <tr>
            <th align='left'>Rule Property</th>
            <th align='left'>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Rule Id</td>
            <td id='ruleprop_id'></td>
          </tr>
          <tr>
            <td>Description</td>
            <td><input id='ruleprop_description' size='80'></input></td>
          </tr>
          <tr>
            <td>Trigger: Predicate Preamble</td>
            <td id='ruleprop_class_preamble'></td>
          </tr>
          <tr>
            <td>Trigger: Predicate Conditions</td>
            <td><input id='ruleprop_class_conditions' size='80'></input></td>
          </tr>
          <tr>
            <td>Action (INSERT/UPDATE Statements [semicolon-separated])</td>
            <td><input id='ruleprop_action' size='80'></input></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

</body>
</html>
