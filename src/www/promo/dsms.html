<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <link href='../css/promo/promo.css' rel='stylesheet' type='text/css' />
  <script src='../js/jquery.js' type='text/javascript'></script>
  <script src='../js/persist-min.js' type='text/javascript'></script>
  <script src='../js/afycommon.js' type='text/javascript'></script>
  <script src='../js/promo/promo.js' type='text/javascript'></script>
  <title>DSMS</title>
</head>
<body>

<div id='thecanvas_c'>
  <canvas id='thecanvas'></canvas>
</div>

<div class='slide' promostyle='{"theme":"streaming", "idledelay":1000, "fontsizes":[18,12]}'>
  <h1>Introducing AffinityDB</h1>
  <ul>
    <li class="step_0 mode_all vspacer" promostyle='{"delay":3000}'>0</li>
    <li class="step_0 mode_all">
      <p>With Affinity's classification mechanism, streaming is a breeze</p>
      <ul>
        <li>Apply complex rules on multiple streams of incoming data</li>
        <li>Analyze structured data as well as semi-structured data</li>
        <li>Emit alarms &amp; trigger actions</li>
      </ul>
    </li>
    <li class="step_0 mode_all vspacer" promostyle='{"delay":3000}'>10</li>
    <li class="step_1 mode_all">
      <p>Ideal to process &amp; store streaming data in-place (at the end-points)</p>
      <ul>
        <li>Cut down bandwidth usage (between end-points &amp; servers or hubs)</li>
        <li>Reduce the storage &amp; processing burden on your servers</li>
      </ul>
    </li>
    <li class="step_1 mode_all vspacer" promostyle='{"delay":3000}'>10</li>
    <li class="step_2 mode_all">
      <p>A small yet very powerful database - great for devices</p>
      <ul>
        <li>One <b>fast</b>, <b>all-C++</b> kernel library ( binary size: <b>~1 Mb</b> )</li>
        <li>Ready for linux on ARM (as well as iOS)</li>
        <li>Supporting relational, schema-free &amp; graph modeling</li>
        <li>Packed with usability enhancers (e.g. units of measurement, collections, easy free-text indexing etc.)</li>
        <li>Capable of storing, retrieving &amp; transforming data of <b>multiple schemas (or versions)</b> simultaneously</li>
        <li>Exposing a convenient, augmented SQL interface</li>
      </ul>
    </li>
    <li class="step_3 mode_all vspacer" promostyle='{"delay":10000}'>0</li>
  </ul>
</div>

<div class='slide' promostyle='{"theme":"streaming", "idledelay":1000, "fontsizes":[18,12]}'>
  <h1>Performance</h1>
    <li class="step_0 mode_all">
      <p>Affinity provides not only richer functionality, but much better streaming performance than sqlite</p>
      <ul>
        <li class="bullet_none">Numbers compiled on a Pandaboard with ARM-Cortex A9 (SD card storage)</li>
        <li class="bullet_none">Both databases were given a nominal 150 Mb of cache to operate</li>
      </ul>
    </li>
    <li class="step_0 mode_all vspacer" promostyle='{"delay":1000}'>5</li>
    <li class="step_1 mode_all container_horizontal">
      <ul>
        <li class="mathgraph">
          (function() { return {
            title:"Sampling Rate - Scenario 1",
            subtitle:"Transactional Logging Disabled",
            layout:[0, 10, 400, 150],
            x:{name:"Number of Samples per Transaction", decimals:0},
            y:{name:"Samples Per Second", decimals:0},
            tooltips:
            [
              "&lt;b&gt;schema:&lt;/b&gt;",
              "CREATE TABLE benchdsms1_temperature (timestamp INT, sensorid VARCHAR(255), temperature REAL)",
            ],
            series:
            [
              {name:"Affinity", color:"#2087c6", data:[[5,(14347+14773+14090)/3], [25,(11838+11627+11981)/3], [50,(12989+14166+11692)/3]]},
              {name:"sqlite", color:"#ff8c00", data:[[5,(279+268+302)/3], [25,(663+432+673)/3], [50,(933+797+863)/3]]},
            ]
          };})();
        </li>
        <li class="mathgraph">
          (function() { return {
            title:"Sampling Rate - Scenario 2",
            subtitle:"Transactional Logging Enabled",
            layout:[0, 10, 400, 150],
            x:{name:"Number of Samples per Transaction", decimals:0},
            y:{name:"Samples Per Second", decimals:0},
            tooltips:
            [
              "&lt;b&gt;schema:&lt;/b&gt;",
              "CREATE TABLE benchdsms1_temperature (timestamp INT, sensorid VARCHAR(255), temperature REAL)",
             ],
            series:
            [
              {name:"Affinity", color:"#2087c6", data:[[5,(291+166+129)/3], [25,(2160+1980+2785)/3], [50,(2589+3363+3366)/3]]},
              {name:"sqlite WAL", color:"#cc4a00", data:[[5,(61+62+55)/3], [25,(243+255+191)/3], [50,(1690+1440+1003+725+1703+1160)/6]]},
              {name:"sqlite", color:"#ff8c00", data:[[5,(105+85+89)/3], [25,(220+122+114)/3], [50,(757+613+650)/3]]},
            ]
          };})();
        </li>
        <li class="container_vertical"></li>
      </ul>
    </li>
    <li class="step_1 mode_all vspacer" promostyle='{"delay":2000}'>5</li>
    <li class="step_1 mode_all mathgraph">
      (function() { return {
        title:"Sampling Rate - Scenario 3",
        subtitle:"With Real-Time Averaging of a Sliding Window (&amp; TX Logging)",
        layout:[0, 10, 500, 150],
        x:{name:"Number of Samples per Transaction", decimals:0},
        y:{name:"Samples Per Second", decimals:0},
        tooltips:
        [
          "&lt;b&gt;schema:&lt;/b&gt;",
          "CREATE TABLE benchdsms1_temperature (timestamp INT, sensorid VARCHAR(255), temperature REAL)",
        ],
        series:
        [
          {name:"Affinity", color:"#2087c6", data:[[5,(110+95+94)/3], [25,(1762+1757+1863)/3], [50,(2314+2370+2377)/3]]},
          {name:"sqlite", color:"#ff8c00", data:[[5,(64+65+72)/3], [25,(199+150+157)/3], [50,(290+281+153)/3]]},
        ]
      };})();
    </li>
    <li class="step_1 mode_all vspacer" promostyle='{"delay":10000}'>5</li>
    <li class="step_2 mode_all">
      <p>With respect to data size, Affinity may be less compact than a RDBMS (depending on the schema)</p>
      <ul>
        <li>But it's significantly better than couchdb (as well as most document and graph DBMSs)</li>
        <li>In the future we plan to provide a page format specialization for streaming, to further reduce the size</li>
      </ul>
    </li>
    <li class="step_3 mode_all vspacer" promostyle='{"delay":10000}'>0</li>
  </ul>
</div>

<div class='slide' promostyle='{"theme":"streaming", "idledelay":1000, "fontsizes":[16,12]}'>
  <h1>Programming Model</h1>
  <ul>
    <li class="step_0 mode_all">
      <p>Define classification rules in PathSQL</p>
      <ul>
        <li class="bullet_none">CREATE CLASS dsms:"coffee_dispenser/warn_coffee" AS SELECT * FROM dsms:basic_rule('coffee_machine')</li>
        <li class="bullet_none">WHERE (dsms:sensor_id='coffee_level' AND dsms:"sample/X" &lt; 20)</li>
      </ul>
    </li>
    <li class="step_0 mode_all vspacer" promostle='{"delay":1000}'>10</li>
    <li class="step_1 mode_all">
      <p>Bind notifications to those rules, and perform processing...</p>
      <ul>
        <li class="bullet_none">... either in your programming language, or in PathSQL</li>
        <li>For example, emit outgoing alerts over HTTP</li>
        <li>Or INSERT/UPDATE any data (no table boundaries in Affinity's data model)</li>
      </ul>
    </li>
    <li class="step_1 mode_all vspacer" promostle='{"delay":2000}'>10</li>
    <li class="step_2 mode_all">
      <p>Define chained rules</p>
      <ul>
        <li>To express conditions involving multiple sensors</li>
        <li>To manage escalating alerts over time</li>
        <li>To purge high-frequency samples &amp; preserve a lower-frequency history</li>
        <li class="bullet_none">Unlike triggers in sqlite, Affinity's rules let you express conditions and actions that are <b>not limited to a single table</b></li>
      </ul>
    </li>
    <li class="step_2 mode_all vspacer" promostle='{"delay":5000}'>10</li>
    <li class="step_3 mode_all container_horizontal">
      <ul>
        <li class="container_vertical">
          <ul>
            <li>
              <p>Upgrade your schema easily</p>
              <ul>
                <li>New application versions can define updated rules</li>
                <li>Data items can comply with the schema of multiple applications or versions</li>
                <li>Old data can be transformed 'on-the-fly' by Affinity and served to new applications</li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="container_vertical">
          <ul>
            <li>
              <p>Enjoy a whole array of goodies at your disposal</p>
              <ul>
                <li>Path expressions &amp; graph traversal</li>
                <li>Automatic free-text indexing (similar to sqlite's FTS3 but easier to use)</li>
                <li>And much more...</li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <!--
    <li class="step_3 mode_all vspacer" promostle='{"delay":2000}'>10</li>
    <li class="step_4 mode_all">Future improvements: automatic windowing, better trigger integration, polyglot triggers, special indexing etc.</li>
    -->
    <li class="step_4 mode_all vspacer" promostyle='{"delay":10000}'>0</li>
  </ul>
</div>

<div class='slide' promostyle='{"theme":"streaming", "idledelay":30000, "fontsizes":[16,10]}'>
  <h1>Online Demo</h1>
  <ul>
    <li class="step_0 mode_all">Have a look at it live (running from an instance hosted just for you)</li>
    <li class="step_0 mode_all">
      <p>Then browse the resulting data from your online console (<b>http://affinitydb.org</b>)</p>
      <ul>
        <li class="vspacer">100</li>
      </ul>
    </li>
    <li class="step_0 mode_all bigurllink" url='promo/dsms_demo.html?default_setup=1'>Please Click Here</li>
    <li class="step_0 mode_all vspacer">100</li>
    <li class="step_0 mode_all bullet_none">
      <p>For a more fluid experience...</p>
      <ul>
        <li>Use firefox</li>
        <li>Visit about:config, and set javascript.options.mem.gc_frequency to a 1000x larger value</li>
      </ul>
  </ul>
</div>

<div id='special'>
  <div id='bullet'>&middot;&nbsp;</div>
  <div id='logo_src'>../images/dsms/logo_raw.png</div>
  <div id='promo_url'>http://affinitydb.org</div>
  <div id='copyright'>&copy; 2012 VMware, Inc. All rights reserved.</div>
  <div id='help'>p: pause,resume | space: accelerate | left,right: change slide</div>
</div>

</body>
</html>
