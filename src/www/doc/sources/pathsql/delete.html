<head>
  <link href='../../css/ksdoc.css' rel='stylesheet' type='text/css' />
  <link href='../../css/source.css' rel='stylesheet' type='text/css' />
</head>
<div id="delete_sql">
<h1>delete.sql</h1>

<!-- begin highlighted code -->
<pre>
INSERT;
delete @50001;

INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P1','MXSS','Design',10000,'Deale');
INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P2','CALM','Code',30000,'Vienna');
INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P3','SDP','Test',30000,'Tampa');
INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P4','SDP','Design',20000,'Deale');
INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P5','IRM','Test',10000,'Vienna');
INSERT (PNUM, PNAME, PTYPE, BUDGET, CITY) VALUES  ('P6','PAYR','Design',50000,'Deale');
CREATE CLASS PROJ AS select * where EXISTS(PNAME);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P1',40);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P2',20);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P3',80);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P4',20);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P5',12);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E1','P6',12);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E2','P1',40);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E2','P2',80);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E3','P2',20);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E4','P2',20);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E4','P4',40);
INSERT (EMPNUM, PNUM, HOURS) VALUES  ('E4','P5',80);
CREATE CLASS WORKS AS select * where EXISTS(HOURS);

DELETE WHERE HOURS>40;
DELETE FROM * WHERE HOURS>20;
DELETE FROM WORKS where HOURS > 10;	
DELETE FROM *;	
			
UNDELETE FROM WORKS where HOURS > 20;	-- undelete PINs which were deleted before
UNDELETE FROM WORKS where HOURS is null;	
UNDELETE FROM WORKS where HOURS is null;	-- undelete twice: 0 new PIN undeleted (because they were already undeleted).

PURGE FROM WORKS where HOURS in [20, 50];  -- purge normal pins
UNDELETE FROM WORKS where HOURS in [20, 50]; -- undelete does not work for purged pins

DELETE FROM WORKS where HOURS in [20, 50];	 -- preparation for below test
PURGE FROM WORKS where HOURS in [20, 50];  -- purge deleted pins
UNDELETE FROM WORKS where HOURS in [20, 50]; -- undelete does not work for purged pins
</pre>
<!-- end highlighted code -->

</div>
