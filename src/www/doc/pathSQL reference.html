<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<head>
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <script src='js/jquery.js' type='text/javascript'></script>
  <script src='js/afysnippets.js' type='text/javascript'></script>
  <link href='css/afydoc.css' rel='stylesheet' type='text/css' media='screen and (min-device-width: 600px)' />
  <link href='../m/doc/css/afydoc.css' rel='stylesheet' type='text/css' media='screen and (max-device-width: 599px)' />
  <meta http-equiv='content-type' content='text/html; charset=utf-8'></meta>
</head>
<div id='width_constraint' class='horizontally_centered'>
<div id='generic_header'>
<img src='images/logo_small.png' id='gh_logo_img'></img>
<div id='afytocbar'>
  <select id='afytoclist'>
    <option value='intro'>intro</option>
    <option value='FAQ'>FAQ</option>
    <option value='features'>features</option>
    <option value='getting started'>getting started</option>
    <option value='interface [cplusplus]'>interface [cplusplus]</option>
    <option value='interface [javascript]'>interface [javascript]</option>
    <option value='interface [protobuf]'>interface [protobuf]</option>
    <option value='pathSQL basics [control]'>pathSQL basics [control]</option>
    <option value='pathSQL basics [data]'>pathSQL basics [data]</option>
    <option value='pathSQL reference [definition]'>pathSQL reference [definition]</option>
    <option value='pathSQL reference [manipulation]'>pathSQL reference [manipulation]</option>
    <option value='pathSQL reference' SELECTED>pathSQL reference</option>
    <option value='release notes'>release notes</option>
    <option value='server'>server</option>
    <option value='strengths'>strengths</option>
    <option value='terminology'>terminology</option>
    <option value='demo_EULA'>demo_EULA</option>
    <option value='demo_privacy'>demo_privacy</option>
  </select>
</div>
</div>
<div id="the-pathsql-language"
><h1
  >The pathSQL Language</h1
  ><p
  >pathSQL is the name of a dialect of SQL defined for Affinity. The <a href="./terminology.html#essentials-data-model"
    >Affinity data model</a
    > is very different from the relational model, but pathSQL is designed to remain as close to SQL as possible. This page presents a thorough survey of the language. It covers the elements of the <a href="#pathsql-syntax"
    >syntax</a
    >, the <a href="#data-types"
    >data types</a
    > and the <a href="#functions-and-operators"
    >operators</a
    >. It also provides a formal <a href="#statements-bnf"
    >BNF description</a
    > of the <a href="./pathSQL%20reference%20[definition].html"
    >DDL</a
    > and <a href="./pathSQL%20reference%20[manipulation].html"
    >DML</a
    >. For a quick practical overview, please visit the <a href="./pathSQL%20basics%20[control].html"
    >&quot;basics&quot;</a
    > section.</p
  ><p
  >It's easy to test any of these commands in the online console. Direct links to the console are provided in the documentation.</p
  ><div id="pathsql-syntax"
  ><h2
    >pathSQL Syntax</h2
    ><div id="lexical-structure"
    ><h3
      >Lexical Structure</h3
      ><p
      >pathSQL supports the following token types: <a href="#keywords"
	>keywords</a
	>, <a href="#identifiers"
	>identifiers</a
	>, <a href="#qnames"
	>qnames</a
	>, <a href="#constants"
	>constants</a
	>, <a href="#operators"
	>operators</a
	>, <a href="#comments"
	>comments</a
	>, and <a href="#special-characters"
	>special characters</a
	>.</p
      ><div id="keywords"
      ><h4
	>Keywords</h4
	><p
	>pathSQL's coverage of standard SQL keywords depends on functional areas.</p
	><p
	>pathSQL supports most of the keywords related to common <a href="./pathSQL%20reference%20[manipulation].html"
	  >DML</a
	  > (Database Manipulation Language): SELECT, UPDATE, DELETE, FROM, CAST, built-in functions etc.</p
	><p
	>pathSQL doesn't support the relational DDL (Data Definition Language) and DCL (Database Control Language): no table, no view, no primary or foreign key, no unique or check constraint. However, Affinity introduces the <a href="./pathSQL%20reference%20[definition].html"
	  >CLASS</a
	  > keyword.</p
	><p
	>pathSQL doesn't support any DSPL (Data Stored Procedure Language).</p
	><p
	><em
	  >Note: Keywords are <strong
	    >case insensitive</strong
	    >. A common convention is to write keywords in upper case.</em
	  ></p
	></div
      ><div id="identifiers"
      ><h4
	>Identifiers</h4
	><p
	>Identifiers are used to designate Affinity entities such as <a href="./terminology.html#class"
	  >classes</a
	  >, <a href="./terminology.html#property"
	  >properties</a
	  > etc. Identifiers are <strong
	  >case sensitive</strong
	  >. See also the next section about <a href="#qnames"
	  >qnames</a
	  >.</p
	><p
	>There are 2 types of identifiers:</p
	><ol style="list-style-type: decimal;"
	><li
	  >plain identifiers: they begin with a letter (upper or lower case, including diacritical marks and non-latin characters) or an underscore (_), and subsequent characters can also be digits.</li
	  ><li
	  >quoted identifiers (aka delimited identifiers): they are formed by enclosing any arbitrary sequence of characters in double-quotes (&quot;), except the character '\0'. A delimited identifier is never a keyword (&quot;select&quot; could be used to refer to a property named <em
	    >select</em
	    >).</li
	  ></ol
	><p
	><em
	  >Note: To include a double quote, write two double quotes.</em
	  ></p
	><p
	><em
	  >Note: A string which is enclosed in single quotes (') is a string constant, not an identifier.</em
	  ></p
	><p
	>Sample: <a href="./sources/pathsql/identifier.html"
	  >identifier.sql</a
	  ></p
	></div
      ><div id="qnames"
      ><h4
	>QNames</h4
	><p
	>QName stands for &quot;qualified name&quot;, and follows the standard conventions defined in XML, RDF etc. A QName is a prefix:name, where prefix and name are identifiers (prefix typically designates a <a href="./terminology.html#namespace"
	  >namespace</a
	  >). In Affinity, all built-in properties use prefix &quot;afy&quot; (e.g. afy:pinID).</p
	><p
	>QNames allow to partition entities such as class names and property names, by namespace. They help specify the semantic context in which a name should be interpreted, and can prevent collisions among identical names with different semantic meanings. This can be especially important when classification is taken into consideration. Careful selection of prefixes (with clear, distinct and meaningful semantics) yields better long-term interoperability with other applications.</p
	><p
	>Prefixes are defined by inserting <code
	  >SET PREFIX</code
	  > pseudo-statements before actual pathSQL statements, separated by semicolons. Any number of <code
	  >SET PREFIX</code
	  > pseudo-statements can precede a pathSQL statement, and are considered to be a part of the statement. The operational scope of <code
	  >SET PREFIX</code
	  > is the statement (or set of statements) it is attached to. Example:</p
	><p
	><code class='pathsql_snippet'> SET PREFIX p1: 'http://example/doc/my/first/prefix';<br> SET PREFIX p2: 'http://example/doc/my/second/prefix';<br> INSERT afy:objectID=.p1:test, p1:x=10, p2:name='Jack'; </code></p
	><p
	><code class='pathsql_snippet'> SET PREFIX p1: 'http://example/doc/my/first/prefix';<br> SELECT * from #p1:test; </code></p
	><p
	><code class='pathsql_snippet'> /* This will fail, since p1 and p2 are long forgotten. */<br> SELECT * from #p1:test; </code></p
	></div
      ><div id="constants"
      ><h4
	>Constants</h4
	><p
	>pathSQL understands most common <a href="./terminology.html#value"
	  >value</a
	  > types. Some standard constants are associated with these value types, such as TRUE and FALSE. Refer to <a href="#data-types"
	  >Data Types</a
	  > for more details.</p
	></div
      ><div id="operators"
      ><h4
	>Operators</h4
	><p
	>pathSQL supports most of the standard SQL operators (logic, comparison, arithmetic, aggregation, string manipulations, date and time manipulations etc.). Refer to <a href="#functions-and-operators"
	  >Functions and Operators</a
	  > for more details.</p
	></div
      ><div id="comments"
      ><h4
	>Comments</h4
	><p
	>A comment is removed from the input stream before further syntax analysis.</p
	><p
	>pathSQL supports 2 styles of comments:</p
	><ol style="list-style-type: decimal;"
	><li
	  ><p
	    >SQL-style: A sequence of characters beginning with double dashes (--) and extending to the end of the line, e.g.:</p
	    ><pre
	    ><code
	      >-- This is a standard SQL comment   
</code
	      ></pre
	    ></li
	  ><li
	  ><p
	    >C-style: This syntax enables a comment to extend over multiple lines (the beginning and closing sequences need not be on the same line). The comment begins with /* and extends to the matching occurrence of */. These blocks can be nested, as specified in the SQL standard (but unlike C): one can comment out larger blocks of code that might contain existing block comments. For example:</p
	    ><pre
	    ><code
	      >/* multiline comment
 * with nesting: /* nested block comment */
 */  
</code
	      ></pre
	    ></li
	  ></ol
	></div
      ><div id="special-characters"
      ><h4
	>Special Characters</h4
	><p
	>Some non-alphanumeric characters have special meaning, without being <a href="#operators"
	  >operators</a
	  >.</p
	><p
	>Some cases are extensions specific to pathSQL:</p
	><ol style="list-style-type: decimal;"
	><li
	  >The dollar sign ($), followed by digits, is used to represent a positional <a href="./terminology.html#property"
	    ><em
	      >property</em
	      ></a
	    > in the body of a statement or class definition. Other uses are ${statement} and $(expression), to indicate a statement/expression variable. In other contexts the dollar sign can be part of an identifier or a dollar-quoted string constant.<br
	     /></li
	  ><li
	  >The colon (:), followed by digits, is used to represent a positional <a href="./terminology.html#parameter"
	    ><em
	      >parameter</em
	      ></a
	    > in the body of a statement or class definition. The colon is also used in <a href="#qnames"
	    >QNames</a
	    >.<br
	     /></li
	  ><li
	  >The period (.) can be used to separate store, class, and property names (in path expression). It can also be part of numerical constants.<br
	     /></li
	  ><li
	  >Brackets ({}) are used to select the elements of a collection, or to create new collections.<br
	     /></li
	  ><li
	  >The at sign (@), followed by digits, is used to represent a <a href="./terminology.html#pin-id-pid"
	    >PIN ID</a
	    >. In some instances, @ may stand alone and represent the currently processed PIN (e.g. in UPDATE statements and path expressions).</li
	  ></ol
	><p
	>Other cases are standard:</p
	><ol style="list-style-type: decimal;"
	><li
	  >Parentheses (()) group expressions and enforce precedence. In some cases parentheses are required as part of the fixed syntax of a particular SQL command.<br
	     /></li
	  ><li
	  >Commas (,) are used in some syntactical constructs, to separate the elements of a list.<br
	     /></li
	  ><li
	  >The semicolon (;) terminates an SQL command. It cannot appear anywhere within a command, except within a string constant or quoted identifier.<br
	     /></li
	  ><li
	  >The asterisk (*) is used in some contexts to denote all values of a property or all properties of a PIN or composite value. It also has a special meaning when used as the argument of an aggregate function, namely that the aggregate does not require any explicit parameter.</li
	  ></ol
	></div
      ></div
    ><div id="path-expressions"
    ><h3
      >Path Expressions</h3
      ><p
      >Path expressions are an extension which is not found in SQL.</p
      ><p
      >Path expressions define navigation paths along the relationships of the abstract schema. They specify both the scope and the results of a query. Path expressions support several navigation mechanisms, applicable to each segment of a path:</p
      ><ol style="list-style-type: decimal;"
      ><li
	>Property of a CLASS, e.g. if PINs in class &quot;cls1&quot; have property &quot;prop1&quot;, then we can fetch the value of &quot;prop1&quot; for each PIN in this class with: <code
	  >cls1.prop1</code
	  ><br
	   /></li
	><li
	>Dereference, e.g. if &quot;pin1&quot; has a property &quot;emp_ref&quot;, of which the value is a PIN reference to &quot;pin2&quot; with property &quot;name&quot;, then we can fetch the value of &quot;pin2.name&quot; with: <code
	  >pin1.emp_ref.name</code
	  ><br
	   /></li
	><li
	>(future) Sub-structure, e.g. if the PIN &quot;pin1&quot; has a property &quot;employee&quot;, and the property &quot;employee&quot; has a sub-property &quot;name&quot;, then we can fetch the value of this sub-property with: <code
	  >pin1.employee.name</code
	  ></li
	></ol
      ><p
      >In order to support more complex graph queries, Affinity provides regular expressions for each segment (or property) of the path. There are several options:</p
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Format</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >{value}</td
	    ><td align="left"
	    >Navigate along this segment for a number of &quot;value&quot; times (e.g. prop1{3} means &quot;prop1.prop1.prop1&quot;).</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >{min, max}</td
	    ><td align="left"
	    >Navigate along this segment, starting at the &quot;min&quot;-th instance and up to the &quot;max&quot;-th instance.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >{*}</td
	    ><td align="left"
	    >Same as {0, infinity}.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >{?}</td
	    ><td align="left"
	    >Same as {0, 1}.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >{+}</td
	    ><td align="left"
	    >Same as {1, infinity}.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >A predicate (i.e. WHERE clause in SQL) can be attached to each segment of a path expression. E.g. <code
	>pin1.emp_ref[name='Jack' AND EXISTS(age)]</code
	>. The at sign (@) can be used here to denote the PIN ID which is being processed.</p
      ><p
      >Path expressions are an important construct in the syntax of the query language. They will be supported in any of the main clauses of a query (SELECT, DELETE, HAVING, UPDATE, WHERE, FROM, GROUP BY, ORDER BY). Note that in the current version, they can only appear in FROM.</p
      ></div
    ><div id="value-expressions"
    ><h3
      >Value Expressions</h3
      ><p
      >Value expressions are expressions which can be executed and will return a value. Unlike relational databases, Affinity doesn't support table expressions (where the returned result is a table).</p
      ><p
      >Because value expressions evaluate to a value, they can be used in place of values, like when passing a parameter to a function, or when specifying the value of a property with INSERT or UPDATE, or in search conditions.</p
      ><p
      >A value expression is one of the following:</p
      ><ol style="list-style-type: decimal;"
      ><li
	>A constant or literal value.<br
	   /></li
	><li
	>A property reference, or a positional property reference, or a path expression.<br
	   /></li
	><li
	>A positional parameter reference.<br
	   /></li
	><li
	>An operator invocation.<br
	   /></li
	><li
	>A function call.</li
	></ol
      ><p
      >Most of them are similar to standard SQL or C/C++.</p
      ><div id="positional-properties"
      ><h4
	>Positional Properties</h4
	><p
	>Format: $digit</p
	><p
	>A dollar sign ($) followed by digits is used to represent a positional property in the body of a statement or class (family) definition. In other contexts, the dollar sign can be part of an identifier (or a dollar-quoted string constant).</p
	><p
	>This feature is not self-contained in pathSQL. It implies a special invocation of the underlying kernel functions (e.g. <code
	  >IStmt::createStmt</code
	  > or <code
	  >IStmt::execute</code
	  >), allowing to provide the property names separately. Please refer to the <a href="./server.html#http-get-support"
	  >HTTP GET</a
	  > section of the server documentation. This could be used to enhance efficiency, or to prevent SQL injection attacks.</p
	></div
      ><div id="positional-parameters"
      ><h4
	>Positional Parameters</h4
	><p
	>Format:</p
	><ol style="list-style-type: decimal;"
	><li
	  >:digit<br
	     /></li
	  ><li
	  >:digit(type) -- parameter with specific type, only used in class family definitions</li
	  ></ol
	><p
	>The colon (:) followed by digits is used to represent a positional parameter in the body of a statement or class definition. E.g.</p
	><p
	><code class='pathsql_snippet'>INSERT (PROP_I, PROP_S) VALUES (23, 'str1');</code> <code class='pathsql_snippet'>INSERT (PROP_I, PROP_S) VALUES (24, 'str2'), (25, 'str3'), (26, 'str4');</code> <code class='pathsql_snippet'>CREATE CLASS hasPropI AS SELECT * WHERE PROP_I IN :0(INT);</code></p
	><p
	>Here, :0 designates the first parameter defining class <code
	  >hasPropI</code
	  >'s index. This parameter could be specified at query time as follows:</p
	><p
	><code class='pathsql_snippet'>SELECT * FROM hasPropI(23);</code></p
	><p
	>Or like this, provided we used <code
	  >IN</code
	  > in the class definition:</p
	><p
	><code class='pathsql_snippet'>SELECT * FROM hasPropI(@[20, 25]);</code></p
	></div
      ><div id="refid"
      ><h4
	>REFID</h4
	><p
	><a href="./terminology.html#pin-reference"
	  >PIN reference</a
	  ><br
	   />Format: @XXXXX[!Identity] Where XXXXX is a <a href="./terminology.html#pin-id-pid"
	  >PID</a
	  > where X is a hexadecimal digit. A PID can be obtained via the built-in property afy:pinID.</p
	><p
	>PIN references can be specified in the WHERE condition or operation target of SELECT/UPDATE/DELETE queries.</p
	></div
      ><div id="uriid"
      ><h4
	>URIID</h4
	><p
	><a href="./terminology.html#pin-reference"
	  >Property reference</a
	  ><br
	   />Format: PIN_REF.Name<br
	   />Where name is a <a href="./terminology.html#property"
	  >property</a
	  > name, and PIN_REF is a <a href="#refid"
	  >PIN reference</a
	  >.</p
	><p
	>Note that a <a href="./terminology.html#class"
	  >class</a
	  > name can be used in place of PIN_REF, to specify the set of references to all classified PINs.</p
	></div
      ><div id="identity:-affinity-user"
      ><h4
	>IDENTITY: Affinity user</h4
	><p
	>Format: !Identity<br
	   />where <a href="./terminology.html#identity"
	  >Identity</a
	  > is the user name.</p
	></div
      ><div id="refidelt:-element-of-a-collection"
      ><h4
	>REFIDELT: Element of a <a href="./terminology.html#collection"
	  >collection</a
	  ></h4
	><p
	>Format: @XXXXX[!Identity].Property[ElementID]</p
	></div
      ></div
    ></div
  ><div id="data-types"
  ><h2
    >Data Types</h2
    ><p
    >Affinity offers most of the basic <a href="./terminology.html#value"
      >value</a
      > types common to all programming languages. Unlike relational databases, Affinity doesn't require length or precision specifications for any data type (e.g. there are no fixed-length strings or binary strings). Affinity doesn't support user-defined data types either, yet, but it does allow to attach a <a href="#units-of-measurement"
      >unit of measurement</a
      > to a value.</p
    ><p
    >The type names listed here use the pathSQL convention. In the <a href="./terminology.html#c-kernel-interface"
      >C++</a
      > and <a href="./terminology.html#protocol-buffer"
      >protocol-buffer</a
      > interfaces, these names are prefixed with &quot;VT_&quot; (e.g. VT_INT).</p
    ><p
    >Sample: <a href="./sources/pathsql/types.html"
      >types.sql</a
      >.</p
    ><div id="string"
    ><h3
      >STRING</h3
      ><p
      >A string constant in SQL is an arbitrary sequence of characters bounded by single quotes ('): 'This is a string'.<br
	 />To include a single-quote character within a string constant, write two adjacent single quotes, e.g., 'Dianne''s horse'.</p
      ><p
      ><em
	>Note</em
	>: a string which is enclosed in double-quote characters (&quot;) is an <a href="#identifiers"
	>identifier</a
	>.</p
      ><div id="supported-encoding"
      ><h4
	>Supported Encoding</h4
	><p
	>Affinity supports the UTF-8 encoding exclusively. All string data should be converted to UTF-8 before being passed to Affinity.</p
	></div
      ></div
    ><div id="bstrbinary-string"
    ><h3
      >BSTR(Binary String)</h3
      ><p
      >pathSQL supports hexadecimal values, written X'val' (with explicit quotes and uppercase leading X), where val contains hexadecimal digits (0..9, A..F, a..f), and is expected to contain an even number of digits (a leading 0 must be inserted manually for odd number of hexadecimal digits).</p
      ></div
    ><div id="numeric-types"
    ><h3
      >Numeric Types</h3
      ><p
      >The numeric types in Affinity are closer to C/C++ numeric types.</p
      ><p
      >Numeric constants are accepted in these general forms:</p
      ><p
      >digits [type-suffix]<br
	 /> digits[.digits][e[+-]digits] [type-suffix]</p
      ><p
      >where <strong
	>digits</strong
	> is <em
	>one or more</em
	> decimal digit in ASCII (0 through 9) or Unicode.<br
	 /><em
	>Note</em
	>: There must be at least one digit before and after the decimal point (if one is used).<br
	 /><em
	>Note</em
	>: At least one digit must follow the exponent marker (e) (if one is present).<br
	 /><em
	>Note</em
	>: There cannot be any space or other character embedded in a numeric constant.<br
	 /><em
	>Note</em
	>: Any leading plus or minus sign is not actually considered part of the constant; it is an operator applied to the constant.</p
      ><p id="typesuffix">The <strong
      >type-suffix</strong
      > is an alphabetical character appended to the numeric constant, to specify its type. It can be used in the context of bitwise operations, or to store data with a specific format. If it is not specified, then Affinity will select a default representation matching the value; it may convert the number to the most space-efficient data type that can represent this value.<br
       /></p>
<div id="uint"
      ><h4
	>UINT</h4
	><p
	>32-bit unsigned number<br
	   />range is [0,4294967295]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: 'u'</p
	></div
      ><div id="int"
      ><h4
	>INT</h4
	><p
	>32-bit signed number<br
	   />range is [-2147483648,2147483647]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: none</p
	></div
      ><div id="uint64"
      ><h4
	>UINT64</h4
	><p
	>64-bit unsigned number<br
	   />range is [0,18446744073709551615]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: 'U'</p
	></div
      ><div id="int64"
      ><h4
	>INT64</h4
	><p
	>64-bit signed number<br
	   />range is [9223372036854775807,-9223372036854775808]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: none</p
	></div
      ><div id="float"
      ><h4
	>FLOAT</h4
	><p
	>a numeric representation of a real number, following the common IEEE 754 standard; may lose precision in various circumstances<br
	   />range is [1.17549e-038F, 3.40282e+038f]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: 'f'</p
	><p
	>Note that the suffix 'F' is not allowed, as it collides with the 'farad' <a href="#units-of-measurement"
	  >unit of measurement</a
	  >.</p
	></div
      ><div id="double"
      ><h4
	>DOUBLE</h4
	><p
	>similar to FLOAT, but with higher precision; it is the default representation for real numbers<br
	   />range is [2.22507e-308, 1.79769e+308]<br
	   /><a href="#typesuffix"
	  >type-suffix</a
	  >: none</p
	><p
	>Note that numbers that have a <a href="#units-of-measurement"
	  >unit of measurement</a
	  > suffix are automatically of this type.</p
	></div
      ><div id="bool"
      ><h4
	>BOOL</h4
	><p
	>TRUE or FALSE</p
	></div
      ></div
    ><div id="datetime-types"
    ><h3
      >DATE/TIME Types</h3
      ><p
      >Currently, pathSQL does not expose time zone control.</p
      ><div id="datetime"
      ><h4
	>DATETIME</h4
	><p
	>Format: TIMESTAMP 'YYYY-MM-DD HH:MM:SS.XXXXXX', where the time and fractional second parts are optional<br
	   />range is ['1601-01-01 00:00:00.000001', '9999-12-31 23:59:59.999999']</p
	></div
      ><div id="interval"
      ><h4
	>INTERVAL</h4
	><p
	>Format: INTERVAL 'HHHHHHH:MM:SS.XXXXXX', the first number is hours, then minutes, seconds and (optional) fractional seconds part.<br
	   />In the future, year-month-day will be supported as well.</p
	></div
      ></div
    ><div id="expr-expression-definition"
    ><h3
      >EXPR (expression definition)</h3
      ><p
      >Format: $(expression)</p
      ><p
      >EXPR is the compiled form of an EXPRTREE, which is first and foremost used internally by the database engine. An EXPR can be stored as a <a href="./terminology.html#value"
	>value</a
	>, but it is not evaluated automatically at INSERT/UPDATE execution time (the value of that property will always be the EXPR itself, never its evaluation). However, properties with type EXPR are evaluated automatically when they're used in expressions. E.g.</p
      ><p
      ><code class='pathsql_snippet'> INSERT afy:objectID='expr_sample', prop1=3;<br> UPDATE #expr_sample ADD prop2=prop1-1, prop3=$(prop1-1); </code></p
      ><p
      ><code class='pathsql_snippet'> SELECT * FROM #expr_sample WHERE prop3=prop2; </code></p
      ><p
      ><code class='pathsql_snippet'> UPDATE #expr_sample SET prop1=2;<br> SELECT * FROM #expr_sample WHERE prop3&lt;&gt;prop2; </code></p
      ><p
      >In the example just above, <code
	>prop2</code
	> is stored directly with the result of the evaluation (at UPDATE execution time), while <code
	>prop3</code
	> is stored as type EXPR, which is only evaluated when queried.</p
      ><p
      >It's also possible to invoke such a EXPR property with parameters (up to 254). E.g.</p
      ><p
      ><code class='pathsql_snippet'> UPDATE #expr_sample SET prop4=$(prop1-:0);<br> SELECT * WHERE prop4(1)=1; </code></p
      ><p
      >Note that Affinity can support missing or extraneous parameters.</p
      ><p
      >You can find more examples <a href="./pathSQL%20basics%20[data].html#how-to-use-lambda-expressions"
	>here</a
	>.</p
      ></div
    ><div id="exprtree"
    ><h3
      >EXPRTREE</h3
      ><p
      >This is an internal, transient type used primarily in C++, to build expression trees before they are compiled by Affinity into expressions (EXPR).</p
      ></div
    ><div id="query-query-statement"
    ><h3
      >QUERY (query statement)</h3
      ><p
      >Format: ${statement}</p
      ><p
      >QUERY is similar to EXPR, but for a whole statement.</p
      ></div
    ><div id="array"
    ><h3
      >ARRAY</h3
      ><p
      >Format: 1-dimension array (vector): [elem1, ..., elemN]<br
	 />2-dimensions array (matrix): [[elem1, ..., elemN], ..., [elem1, ..., elemN]]</p
      ><p
      >where all <em
	>elem</em
	> of an array should be numbers with identical data type (i.e. either INT*, FLOAT, or DOUBLE).</p
      ><p
      >This type is similar to the array concept in C/C++ language. It is stored in a contiguous address space, for fast processing. Additional notes: - There is no automatic conversion/coercion, even between otherwise compatible data types. - All data of one array are stored on one page, hence the maximal size of any one array is the store's <a href="./terminology.html#page"
	>page size</a
	>.</p
      ><p
      >Some <a href="#array-operators"
	>array-specific operators</a
	> were introduced, for mathematics computing (<a href="./pathSQL%20basics%20[data].html#linear-algebra"
	>linear algebra</a
	>).</p
      ><p
      >Sample: <a href="./sources/pathsql/array.html"
	>array.sql</a
	>.</p
      ></div
    ><div id="cnavigator-collection"
    ><h3
      >CNAVIGATOR (<a href="./terminology.html#collection"
	>Collection</a
	>)</h3
      ><p
      >Format:</p
      ><ol style="list-style-type: decimal;"
      ><li
	>(elem1,...,elemN) -- SQL standard style. <em
	  >Note</em
	  >: (0) is a int (the parentheses in this case are not interpreted as defining a set)<br
	   /></li
	><li
	>{elem1,...,elemN} -- pathSQL extension. <em
	  >Note</em
	  >: {0} specifies a one-element collection</li
	></ol
      ><p
      >Please refer to the <a href="./terminology.html#collection"
	>definition of 'collection'</a
	>.</p
      ><p
      ><code class='pathsql_snippet'>INSERT (prop2,prop3) VALUES(123 ,{123, 'test', 120, 534});</code> <code class='pathsql_snippet'>SELECT * WHERE prop3[3] = 534;</code></p
      ><p
      >Internally, smaller collections are stored with a representation similar to an array in one page. Larger collections are stored in multiple pages with the B-tree, enabling enormous collections with fast retrieval of known eids. The transition between those two states is transparent, and applications should not assume in which internal format a collection will be stored.</p
      ><p
      >The transition between a scalar value and a collection is also designed to be relatively transparent (with a core query syntax that applies to both cases indifferently).</p
      ><p
      >For more information about collections, see <a href="#comparisons-involving-collections"
	>comparisons involving collections</a
	>, <a href="#value-in-collection"
	>value in collection</a
	> and <a href="#update"
	>UPDATE ADD/SET</a
	>.</p
      ><p
      ><em
	>Note</em
	>: although Affinity doesn't support nested collections yet, it is possible to implement similar functionality by combining multiple PINs (or properties), e.g. by adding collection references to a collection.</p
      ></div
    ><div id="map"
    ><h3
      ><a href="./terminology.html#map"
	>Map</a
	></h3
      ><p
      >Format: {element_key1 -&gt; element_value1, element_key2 -&gt; element_value2, ...}<br
	 />Where the element_key* and element_value* can be any data type.</p
      ><p
      ><code class='pathsql_snippet'>INSERT my_map=<br>  {'string' -&gt; X'DEF5', 'http://test/' -&gt; 128,<br>  3.40282f -&gt; 3.40282, true -&gt; TIMESTAMP '2010-12-31 23:59:59',  'nested' -&gt; {'k1' -&gt; 1, 'k2' -&gt; 2}}; </code></p
      ></div
    ><div id="range"
    ><h3
      >Range</h3
      ><p
      >Format: @[number1, number2]<br
	 />it can be used with keywork IN. The meaning is the same as BETWEEN number1 AND number2.<br
	 /><em
	>Note</em
	>: * is used here to denote the infinity number.</p
      ><p
      >Examples: <a href="./sources/pathsql/between_in.html"
	>between_in.sql</a
	>.</p
      ></div
    ><div id="reference-types"
    ><h3
      >Reference types</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Type Name</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >REF</td
	    ><td align="left"
	    >A reference to another PIN by its IPIN*.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >REFID</td
	    ><td align="left"
	    >A reference to another PIN by its PID.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >REFPROP</td
	    ><td align="left"
	    >A reference to a value (property of this or another PIN) by its IPIN* and PropertyID.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >REFIDPROP</td
	    ><td align="left"
	    >A reference to a value (property of this or another PIN) by its PID and PropertyID.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >REFELT</td
	    ><td align="left"
	    >A reference to a collection element by its IPIN*, PropertyID and ElementID.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >REFIDELT</td
	    ><td align="left"
	    >A reference to a collection element by its PID, PropertyID and ElementID.</td
	    ></tr
	  ></tbody
	></table
      ><p
      ><em
	>Note</em
	>: The distinction between REF and REFID only applies to the embedded <a href="./terminology.html#c-kernel-interface"
	>C++ interface</a
	>. REF allows to specify directly an IPIN*.<br
	 />You can see the format of all there reference types is here: <a href="#reference-and-dereference-operators"
	>Reference and Dereference Operators</a
	>.</p
      ></div
    ><div id="current"
    ><h3
      >CURRENT</h3
      ><p
      >Not yet documented.</p
      ></div
    ><div id="stream"
    ><h3
      >STREAM</h3
      ><p
      >Not yet documented.</p
      ></div
    ></div
  ><div id="units-of-measurement"
  ><h2
    >Units of Measurement</h2
    ><p
    >Affinity allows to attach <a href="./terminology.html#unit-of-measurement"
      >units</a
      > to <a href="#double"
      >double</a
      >-precision floating point numbers, to enhance the self-descriptiveness of data, and interoperability. Affinity automatically converts values between different units when performing computations on compatible types.</p
    ><p
    >The syntax simply requires to append the chosen unit suffix to a literal value (wherever a value is legal). Note that suffixes are case-sensitive, and unit suffixes can not be used together with <a href="#typesuffix"
      >type-suffixes</a
      >.</p
    ><p
    ><em
      >Note</em
      >: In pathSQL, integers with a unit suffix will be converted to double/float automatically (only float/double values can have a unit suffix). That's because as soon as unit conversions are involved, whole integer values become very unlikely (e.g. 1 inch = 0.0254 meter; 1 inch + 1 meter = 1.0254 meter).</p
    ><p
    >Sample: <a href="./sources/pathsql/units.html"
      >units.sql</a
      ></p
    ><p
    >Here is a table of all units supported by Affinity.</p
    ><table
    ><thead
      ><tr class="header"
	><th align="left"
	  >Suffix</th
	  ><th align="left"
	  >Description</th
	  ></tr
	></thead
      ><tbody
      ><tr class="odd"
	><td align="left"
	  >m</td
	  ><td align="left"
	  >meter</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >kg</td
	  ><td align="left"
	  >kilogram</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >s</td
	  ><td align="left"
	  >second</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >A</td
	  ><td align="left"
	  >ampere</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >K</td
	  ><td align="left"
	  >kelvin</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >mol</td
	  ><td align="left"
	  >mole</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >cd</td
	  ><td align="left"
	  >candela</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Hz</td
	  ><td align="left"
	  >hertz</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >N</td
	  ><td align="left"
	  >newton</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Pa</td
	  ><td align="left"
	  >pascal</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >J</td
	  ><td align="left"
	  >joule</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >W</td
	  ><td align="left"
	  >watt</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >C</td
	  ><td align="left"
	  >coulomb</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >V</td
	  ><td align="left"
	  >volt</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >F</td
	  ><td align="left"
	  >farad</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Ohm</td
	  ><td align="left"
	  >ohm</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >S</td
	  ><td align="left"
	  >siemens</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Wb</td
	  ><td align="left"
	  >weber</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >T</td
	  ><td align="left"
	  >tesla</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >H</td
	  ><td align="left"
	  >henri</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >dC</td
	  ><td align="left"
	  >degree Celsius</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >rad</td
	  ><td align="left"
	  >radian</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >sr</td
	  ><td align="left"
	  >steradian</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >lm</td
	  ><td align="left"
	  >lumen</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >lx</td
	  ><td align="left"
	  >lux</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Bq</td
	  ><td align="left"
	  >becquerel</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >Gy</td
	  ><td align="left"
	  >gray</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >Sv</td
	  ><td align="left"
	  >sievert</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >kat</td
	  ><td align="left"
	  >katal</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >dm</td
	  ><td align="left"
	  >decimeter</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >cm</td
	  ><td align="left"
	  >centimeter</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >mm</td
	  ><td align="left"
	  >millimeter</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >mkm</td
	  ><td align="left"
	  >micrometer</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >nm</td
	  ><td align="left"
	  >nanometer</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >km</td
	  ><td align="left"
	  >kilometer</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >in</td
	  ><td align="left"
	  >inch</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >ft</td
	  ><td align="left"
	  >foot</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >yd</td
	  ><td align="left"
	  >yard</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >mi</td
	  ><td align="left"
	  >mile</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >nmi</td
	  ><td align="left"
	  >nautical mile</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >au</td
	  ><td align="left"
	  >astronomical unit</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >pc</td
	  ><td align="left"
	  >parsec</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >ly</td
	  ><td align="left"
	  >light year</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >mps</td
	  ><td align="left"
	  >meters per second</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >kph</td
	  ><td align="left"
	  >kilometers per hour</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >fpm</td
	  ><td align="left"
	  >feet per minute</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >mph</td
	  ><td align="left"
	  >miles per hour</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >kt</td
	  ><td align="left"
	  >knot</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >g</td
	  ><td align="left"
	  >gram</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >mg</td
	  ><td align="left"
	  >milligram</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >mkg</td
	  ><td align="left"
	  >microgram</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >t</td
	  ><td align="left"
	  >ton</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >lb</td
	  ><td align="left"
	  >pound</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >oz</td
	  ><td align="left"
	  >ounce</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >st</td
	  ><td align="left"
	  >stone</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >m2</td
	  ><td align="left"
	  >square meter</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >cm2</td
	  ><td align="left"
	  >square centimeter</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >sqin</td
	  ><td align="left"
	  >square inch</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >sqft</td
	  ><td align="left"
	  >square foot</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >ac</td
	  ><td align="left"
	  >acre</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >ha</td
	  ><td align="left"
	  >hectare</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >m3</td
	  ><td align="left"
	  >cubic meter</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >l</td
	  ><td align="left"
	  >liter</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >cl</td
	  ><td align="left"
	  >centiliter</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >cm3</td
	  ><td align="left"
	  >cubic centimeter</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >cf</td
	  ><td align="left"
	  >cubic foot</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >ci</td
	  ><td align="left"
	  >cubic inch</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >floz</td
	  ><td align="left"
	  >fluid once</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >bbl</td
	  ><td align="left"
	  >barrel</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >bu</td
	  ><td align="left"
	  >bushel</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >gal</td
	  ><td align="left"
	  >gallon</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >qt</td
	  ><td align="left"
	  >quart</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >pt</td
	  ><td align="left"
	  >pint</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >b</td
	  ><td align="left"
	  >bar</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >mmHg</td
	  ><td align="left"
	  >millimeters of mercury</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >inHg</td
	  ><td align="left"
	  >inches of mercury</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >cal</td
	  ><td align="left"
	  >calorie</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >kcal</td
	  ><td align="left"
	  >kilo-calorie</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >dF</td
	  ><td align="left"
	  >degrees Fahrenheit</td
	  ></tr
	></tbody
      ></table
    ></div
  ><div id="functions-and-operators"
  ><h2
    >Functions and Operators</h2
    ><p
    >Affinity supports many common functions and operators available in relational databases, and usage is almost the same.</p
    ><p
    >Internally Affinity regards all functions as operators, so here we discuss them together.</p
    ><p
    >Sample: <a href="./sources/pathsql/functions.html"
      >functions.sql</a
      >.</p
    ><div id="logical-operators"
    ><h3
      >Logical Operators</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >NOT</td
	    ><td align="left"
	    >logical not: NOT TRUE is FALSE; NOT FALSE is TRUE.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >OR</td
	    ><td align="left"
	    >logical or: return TRUE if one of the operands is TRUE; otherwise return FALSE.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >AND</td
	    ><td align="left"
	    >logical and: return TRUE if both of the operands are TRUE; otherwise return FALSE.</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="comparison-functions-and-operators"
    ><h3
      >Comparison Functions and Operators</h3
      ><p
      >Functions and Operators Description</p
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >&lt;</td
	    ><td align="left"
	    >less than</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&gt;</td
	    ><td align="left"
	    >greater than</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >&lt;=</td
	    ><td align="left"
	    >less than or equal to</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&gt;=</td
	    ><td align="left"
	    >greater than or equal to</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >=</td
	    ><td align="left"
	    >equal</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&lt;&gt;</td
	    ><td align="left"
	    >not equal</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >expr BETWEEN min AND max</td
	    ><td align="left"
	    >return (expr&gt;=min and expr&lt;= max)</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >expr IN [min, max]</td
	    ><td align="left"
	    >return (expr&gt;=min and expr&lt;= max). The [min, max] is a value with RANGE type.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >expr IN list</td
	    ><td align="left"
	    >return whether or not expr is equal to one value of the list.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >These binary comparison operators can support not only single-value right-hand operands, but also a list of values with <a href="#anysomeall-qualifier"
	>ANY/SOME/ALL qualifier</a
	>. The List can be a collection, or a list of values returned by sub-query.</p
      ><p
      ><em
	>Note</em
	>: The condition &quot;PROP&lt;&gt;val&quot; will not filter out PINs without property &quot;PROP&quot;.</p
      ><div id="comparisons-involving-collections"
      ><h4
	>Comparisons Involving Collections</h4
	><ol style="list-style-type: decimal;"
	><li
	  >value = collection -- same as &quot;value IN collection&quot;<br
	     /></li
	  ><li
	  >collection1 IN collection2 -- for each element in collection1, check {the element's value IN collection2}</li
	  ></ol
	><p
	>The default behaviour for operator = is to check if ANY element is = the compared value, whereas for every other comparison operator, the default behavior is to check how ALL elements compare with the value. Currently Affinity only exposes this default behavior.</p
	></div
      ></div
    ><div id="arithmetic-operators"
    ><h3
      >Arithmetic Operators</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ><th align="left"
	    >Example</th
	    ><th align="left"
	    >Result</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >+</td
	    ><td align="left"
	    >addition</td
	    ><td align="left"
	    >2 + 3</td
	    ><td align="left"
	    >5</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >-</td
	    ><td align="left"
	    >subtraction</td
	    ><td align="left"
	    >2 - 3</td
	    ><td align="left"
	    >-1</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >*</td
	    ><td align="left"
	    >multiplication</td
	    ><td align="left"
	    >2 * 3</td
	    ><td align="left"
	    >6</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >/</td
	    ><td align="left"
	    >division (integer division truncates the result)</td
	    ><td align="left"
	    >4 / 2</td
	    ><td align="left"
	    >2</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >%</td
	    ><td align="left"
	    >modulo (remainder)</td
	    ><td align="left"
	    >5 % 4</td
	    ><td align="left"
	    >1</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >^</td
	    ><td align="left"
	    >exponentiation</td
	    ><td align="left"
	    >2.0 ^ 3.0</td
	    ><td align="left"
	    >8</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >&amp;</td
	    ><td align="left"
	    >bitwise AND</td
	    ><td align="left"
	    >91 &amp; 15</td
	    ><td align="left"
	    >11</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >|</td
	    ><td align="left"
	    >bitwise OR</td
	    ><td align="left"
	    >32 | 3</td
	    ><td align="left"
	    >35</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >#</td
	    ><td align="left"
	    >bitwise XOR</td
	    ><td align="left"
	    >17 # 5</td
	    ><td align="left"
	    >20</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >~</td
	    ><td align="left"
	    >bitwise NOT</td
	    ><td align="left"
	    >~1</td
	    ><td align="left"
	    >-2</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >&lt;&lt;</td
	    ><td align="left"
	    >bitwise shift left</td
	    ><td align="left"
	    >1 &lt;&lt; 4</td
	    ><td align="left"
	    >16</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&gt;&gt;</td
	    ><td align="left"
	    >bitwise shift right</td
	    ><td align="left"
	    >-123 &gt;&gt; 63</td
	    ><td align="left"
	    >-1</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >&gt;&gt;&gt;</td
	    ><td align="left"
	    >bitwise unsigned shift right</td
	    ><td align="left"
	    >-123 &gt;&gt;&gt; 63</td
	    ><td align="left"
	    >1</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="bitwise-operations-on-extendable-bit-arrays"
    ><h3
      >Bitwise Operations on Extendable Bit Arrays</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >TESTBIT(property, bitIndex)</td
	    ><td align="left"
	    >return true if the bit specified by bitIndex is set in the value of the specified property</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >SETBIT(property, bitIndex)</td
	    ><td align="left"
	    >return the value of property after setting the bit specified by bitIndex; works on integer types as well as VT_BSTR</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >RESETBIT(property, bitIndex)</td
	    ><td align="left"
	    >return the value of property after resetting the bit specified by bitIndex; works on integer types as well as VT_BSTR</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >BITFIELD(property, bitIndex, length)</td
	    ><td align="left"
	    >return the part of property which begins from the bit specified by bitIndex with the length in bits.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >In binary strings (VT_BSTR), the bitIndex refers to a string of bits where byte 0 is the leftmost byte in the string, and bit 0 of each byte has absolute value 1. In other words, the bitIndex progresses along this:</p
      ><pre
      ><code
	>    {bitIndex: 0, value: X'010000'},  
    {bitIndex: 1, value: X'020000'},  
    ...,  
    {bitIndex:10, value: X'000400'},  
    {bitIndex:11, value: X'000800'},  
    etc.  
</code
	></pre
      ><p
      >Examples:</p
      ><p
      ><code class='pathsql_snippet'>INSERT afy:objectID='testbits1', x=X'FFFFFFFF', y=0;</code> <code class='pathsql_snippet'>UPDATE #testbits1 SET x=RESETBIT(x, 0), y=SETBIT(y, 7);</code> <code class='pathsql_snippet'>SELECT * FROM #testbits1 WHERE TESTBIT(x, 3);</code> <code class='pathsql_snippet'>SELECT TESTBIT(y, 3) FROM #testbits1;</code> <code class='pathsql_snippet'>INSERT SELECT SETBIT(X'0000000000000000', afy:value) AS bytestring FROM @[0, 40]; SELECT * WHERE EXISTS(bytestring);</code></p
      ></div
    ><div id="mathematical-functions-scalar"
    ><h3
      >Mathematical Functions (scalar)</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >ABS(number)</td
	    ><td align="left"
	    >returns the absolute value of number</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >LN(number)</td
	    ><td align="left"
	    >natural logarithm</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >EXP(number)</td
	    ><td align="left"
	    >exponential</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >POWER(number a, number b)</td
	    ><td align="left"
	    >a raised to the power of b</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >SQRT(number)</td
	    ><td align="left"
	    >square root</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >FLOOR(number)</td
	    ><td align="left"
	    >largest integer not greater than argument</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >CEIL(number)</td
	    ><td align="left"
	    >smallest integer not less than argument</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="aggregation-functions:"
    ><h3
      >Aggregation Functions:</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >AVG(expression)</td
	    ><td align="left"
	    >Returns the average value of the values in expression.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >MIN(expression)</td
	    ><td align="left"
	    >Returns the smallest value in expression.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >MAX(expression)</td
	    ><td align="left"
	    >Returns the largest value in expression.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >SUM(expression)</td
	    ><td align="left"
	    >Returns the sum of the in values in expression.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >COUNT(expression)</td
	    ><td align="left"
	    >Returns the number of times expression was not null. Expression can be property name or a collection. If a collection is specified, returns the cardinality of the collection.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >VAR_POP(expression)</td
	    ><td align="left"
	    >Returns the biased variance (/n) of a set of numbers. The formula used to calculate the biased variance is: VAR_POP = SUM(X<strong
	      >2)/COUNT(X) - (SUM(X)/COUNT(X))</strong
	      >2</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >VAR_SAMP(expression)</td
	    ><td align="left"
	    >Returns the sample variance (/n-1) of a set of numbers. The formula used to calculate the sample variance is: VAR_SAMP=(SUM(X<strong
	      >2)-((SUM(X)</strong
	      >2)/(COUNT(<em
	      >))))/(COUNT(</em
	      >)-1)</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >STDDEV_POP(expression)</td
	    ><td align="left"
	    >Returns the biased standard deviation (/n) of a set of numbers. The formula used to calculate the biased standard deviation is: STDDEV_POP = SQRT(VAR_POP)</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >STDDEV_SAMP(expression)</td
	    ><td align="left"
	    >Returns the sample standard deviation (/n-1) of a set of numbers. The formula used to calculate the sample standard deviation is: STDDEV_SAMP = SQRT(VAR_SAMP)</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >ARGMIN(expression)</td
	    ><td align="left"
	    >Returns the 0-based index of the element with the minimal value in the set.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >ARGMAX(expression)</td
	    ><td align="left"
	    >Returns the 0-based index of the element with the maximal value in the set.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >The 'expression' can be a list of values or a collection. If a collection is specified, the function will include all its elements in the calculation. These functions can also support <a href="#distinctall-qualifier"
	>DISTINCT/ALL qualifier</a
	> to indicate whether or not duplicate values should be included in the expression, e.g. AVG(DISTINCT expression).</p
      ></div
    ><div id="array-operators"
    ><h3
      >Array operators</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >TRANSPOSE(array)</td
	    ><td align="left"
	    >Returns the transpose of a matrix, which flips the rows and columns.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >NORM(array)</td
	    ><td align="left"
	    >Returns the norm of a vector, which is informally a measure of the length of the vector.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >TRACE(array)</td
	    ><td align="left"
	    >Returns the trace of a square matrix, which is the sum of diagonal elements in the matrix.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >DET(array)</td
	    ><td align="left"
	    >Returns the determinant of a square matrix.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >INV(array)</td
	    ><td align="left"
	    >Returns the inverse of a square matrix.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >RANK(array)</td
	    ><td align="left"
	    >Returns the rank of a matrix, which is the number of linearly independent row or column vectors.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >You can refer to Linear Algebra for more details about these operators.</p
      ></div
    ><div id="string-operators"
    ><h3
      >String Operators</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >||</td
	    ><td align="left"
	    >string concatenation</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="string-functions"
    ><h3
      >String Functions</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >LENGTH( {string|collection} )</td
	    ><td align="left"
	    >string length or collection cardinality.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >LOWER(string)</td
	    ><td align="left"
	    >change all characters to lowercase.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >UPPER(string)</td
	    ><td align="left"
	    >change all characters to uppercase.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >TONUM(string)</td
	    ><td align="left"
	    >convert the value type of 'string' to number.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >TOINUM(string)</td
	    ><td align="left"
	    >convert the value type of 'string' to integer format.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >POSITION(str, subStr)</td
	    ><td align="left"
	    >return the position of subStr in str, or -1 if not found.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >SUBSTR(str,[pos=0,]len)</td
	    ><td align="left"
	    >return a substring of str of length len, starting at pos.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >REPLACE(string, subStr, newSubStr)</td
	    ><td align="left"
	    >replace all occurences of subStr in string with newSubStr.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >PAD(string, length, padStr)</td
	    ><td align="left"
	    >pad string with padStr until the string length is length.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >TRIM([{BOTH | LEADING | TRAILING} [remstr] FROM] str), TRIM([remstr FROM] str)</td
	    ><td align="left"
	    >return str without the leading or trailing characters specified in remstr. BOTH is the default. If remstr is not specified, spaces are removed.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >CONTAINS(string, subStr)</td
	    ><td align="left"
	    >return whether string contains subStr or not.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >BEGINS(string, prefix)</td
	    ><td align="left"
	    >return whether or not the prefix is heading part of string.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >ENDS(string, suffix)</td
	    ><td align="left"
	    >return whether or not the suffix is ending part of string.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >REGEX</td
	    ><td align="left"
	    >not supported yet in Affinity.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >CONCAT(str1,str2,...)</td
	    ><td align="left"
	    >return the string that results from concatenating the arguments.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >MATCH [(property list)] AGAINST(string)</td
	    ><td align="left"
	    >full-text search for string in specified properties of PINs. If no property list is specified, then search all properties.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >Sample: <a href="./sources/pathsql/full_text_search.html"
	>full_text_search.sql</a
	>.</p
      ></div
    ><div id="extractunit-from-date"
    ><h3
      >EXTRACT(unit FROM date)</h3
      ><p
      >Extract the unit part of the date/time/timestamp.<br
	 />The possible units are: YEAR, MONTH, DAY, HOUR, MINUTE, SECOND and FRACTIONAL.</p
      ></div
    ><div id="cast-function"
    ><h3
      >CAST Function</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Expreesion</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >CAST(expr AS TypeName)</td
	    ><td align="left"
	    >SQL compatible format: cast 'expr' to specific type name which is described at the <a href="#data-types"
	      >data types</a
	      >.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >CAST(expr, TypeNumber)</td
	    ><td align="left"
	    >Internal format: the second param is type number which is defined at enum ValueType in file &quot;kernel.h&quot;</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >CAST(expr AS UnitName)</td
	    ><td align="left"
	    >Cast 'expr' to specific<a href="./terminology.html#unit-of-measurement"
	      >units</a
	      >, and convert the type to<a href="#double"
	      >double</a
	      >-precision floating point numbers</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >CAST(expr AS UnitName.f)</td
	    ><td align="left"
	    >Cast 'expr' to specific<a href="./terminology.html#unit-of-measurement"
	      >units</a
	      >, and convert the type to<a href="#float"
	      >float</a
	      >-precision floating point numbers</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="coalesce"
    ><h3
      >COALESCE</h3
      ><p
      >. -- class/property name separator</p
      ></div
    ><div id="in"
    ><h3
      >IN</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >expr IN [min, max]</td
	    ><td align="left"
	    >return (expr&gt;=min and expr&lt;= max). The [min, max] is a value with RANGE type.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >expr IN list</td
	    ><td align="left"
	    >return whether or not the val is equal to one value of the list. The List can be a collection, or a list of values returned by sub-query.</td
	    ></tr
	  ></tbody
	></table
      ></div
    ><div id="exists"
    ><h3
      >EXISTS</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >EXISTS(property)</td
	    ><td align="left"
	    >return &quot;property IS NOT NULL&quot;.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >EXISTS(list)</td
	    ><td align="left"
	    >return &quot;COUNT(list)&gt;0&quot;. The List can be a collection, or a list of values returned by sub-query.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >Sample: <a href="./sources/pathsql/exists.html"
	>exists.sql</a
	></p
      ></div
    ><div id="anysomeall-qualifier"
    ><h3
      >ANY/SOME/ALL qualifier</h3
      ><p
      >These qualifiers can only be used as right operands of the binary comparison operators. E.g.</p
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Sample</th
	    ><th align="left"
	    >Same as</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >val&lt;ANY(Expr1, Expr2, ..., ExprN)</td
	    ><td align="left"
	    >A&lt;Expr1 AND A&lt;Expr2 AND ... AND A&lt;ExprN</td
	    ><td align="left"
	    >return true if any &quot;A&lt;Expr&quot; is true, otherwise return false.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >val&lt;SOME(Expr1, Expr2, ..., ExprN)</td
	    ><td align="left"
	    >val&lt;ANY(Expr1, Expr2, ..., ExprN)</td
	    ><td align="left"
	    ></td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >val&lt;ALL(Expr1, Expr2, ..., ExprN)</td
	    ><td align="left"
	    >A&lt;Expr1 OR A&lt;Expr2 OR ... OR A&lt;ExprN</td
	    ><td align="left"
	    >return true if all &quot;A&lt;Expr&quot; is true, otherwise return false.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >It is more complex when taking NULL into consideration. E.g.</p
      ><p
      >&quot;A&lt;ALL(Expr1, Expr2, ..., ExprN)&quot;</p
      ><ol style="list-style-type: decimal;"
      ><li
	>If one of the condition &quot;A&lt;Expr&quot; is false, then it return false;</li
	><li
	>Else if one of the Expr is NULL, then the &quot;A&lt;Expr&quot; is NULL, then finally it return NULL;</li
	><li
	>Else if (Expr1, Expr2, ..., ExprN) is a empty result of sub-query, i.e. there is no items of Expr, then it return TRUE.(Here return TRUE is to make distinction from the above 2 cases.)</li
	></ol
      ><p
      >&quot;A=ANY(Expr1, Expr2, ..., ExprN)&quot; same as &quot;A=SOME(Expr1, Expr2, ..., ExprN)&quot; and &quot;A IN (Expr1, Expr2, ..., ExprN)&quot;</p
      ><ol style="list-style-type: decimal;"
      ><li
	>If one of the condition &quot;A=Expr&quot; is true, then it return true;</li
	><li
	>Else if one of the Expr is NULL, then the &quot;A=Expr&quot; is NULL, then finally it return NULL;</li
	><li
	>Else if (Expr1, Expr2, ..., ExprN) is a empty result of sub-query, i.e. there is no items of Expr, then it return FALSE. (Here return FALSE is to make distinction from the above 2 cases.)</li
	></ol
      ><p
      >Sample: <a href="./sources/pathsql/collection_operators.html"
	>collection_operators.sql</a
	></p
      ></div
    ><div id="distinctall-qualifier"
    ><h3
      >DISTINCT/ALL qualifier</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >DISTINCT list</td
	    ><td align="left"
	    >return the list of values after eliminating the duplicate values. In the case of a list of pins, comparison is based on PIDs.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >ALL list</td
	    ><td align="left"
	    >return the list of values without eliminating duplicates.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >There are three contexts where to use these qualifiers:</p
      ><ul
      ><li
	>SELECT list (e.g. <code
	  >SELECT DISTINCT prop1 FROM class1</code
	  >)<br
	   /></li
	><li
	>Parameter passed to an aggregation function (e.g. <code
	  >AVG(DISTINCT {1.0, 2.0})</code
	  >)<br
	   /></li
	><li
	>list of values returned by sub-query and used as operands of set operators (e.g. <code
	  >query1 UNION DISTINCT(prop1,prop2) query2</code
	  >)</li
	></ul
      ><p
      >ISLOCAL Not yet documented.</p
      ></div
    ><div id="collection-functions-and-operators"
    ><h3
      >Collection Functions and Operators</h3
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Function/Operator</th
	    ><th align="left"
	    >Expression Sample</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >[ ]</td
	    ><td align="left"
	    >property[position]</td
	    ><td align="left"
	    >Fetch the value at the specified position in the collection. position can be a number (starts at 0) or one of these values: LAST_ELEMENT, FIRST_ELEMENT, SOME_ELEMENT, ALL_ELEMENTS.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >COUNT</td
	    ><td align="left"
	    >COUNT(collection)</td
	    ><td align="left"
	    >Return the cardinality of that collection.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >IN</td
	    ><td align="left"
	    >val IN collection</td
	    ><td align="left"
	    >Return whether or not the val is equal to one value of the collection.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >IN</td
	    ><td align="left"
	    >collection1 IN collection2</td
	    ><td align="left"
	    >Return whether or not all values of collection1 are IN collection2.</td
	    ></tr
	  ></tbody
	></table
      ><div id="value-in-collection"
      ><h4
	>Value IN Collection</h4
	><p
	>value1 IN value2 is interpreted by pathSQL to mean &quot;is value1 part of the collection value2?&quot;.</p
	></div
      ></div
    ><div id="reference-and-dereference-operators"
    ><h3
      >Reference and Dereference Operators</h3
      ><p
      >Reference operator: &amp;<br
	 />Dereference operator: *</p
      ><p
      ><em
	>Note</em
	>: &amp; can have 2 meanings: &quot;bitwise AND&quot; and &quot;dereference&quot;; it depends on the context where it is used.</p
      ><p
      >A few examples (here X is a hexadecimal digit, XXXXXXXXXXXXXXXX is a PID):</p
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Expression</th
	    ><th align="left"
	    >Meanning</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >@XXXXXXXXXXXXXXXX</td
	    ><td align="left"
	    >Return the PIN reference.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >*@XXXXXXXXXXXXXXXX</td
	    ><td align="left"
	    >Return the value of this pin, which is the value of the special afy:value property in this PIN (this values can be set; it can be an EXPR).</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >@XXXXXXXXXXXXXXXX.prop</td
	    ><td align="left"
	    >Return the value of prop in pin @XXXXXXXXXXXXXXXX.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&amp;@XXXXXXXXXXXXXXXX.prop</td
	    ><td align="left"
	    >Return the reference to the prop in pin @XXXXXXXXXXXXXXXX.</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >@XXXXXXXXXXXXXXXX.prop[0]</td
	    ><td align="left"
	    >Return the element value of the prop in pin @XXXXXXXXXXXXXXXX.</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&amp;@XXXXXXXXXXXXXXXX.prop[0]</td
	    ><td align="left"
	    >Return the element reference of the prop in pin @XXXXXXXXXXXXXXXX.</td
	    ></tr
	  ></tbody
	></table
      ><p
      >Additional examples: <a href="./sources/pathsql/reference.html"
	>reference.sql</a
	>.</p
      ></div
    ><div id="precedence-of-operators-and-functions-in-decreasing-order"
    ><h3
      >Precedence of Operators and Functions (in decreasing order)</h3
      ><p
      >Most operators have the same precedence and are left-associative. The precedence and associativity of the operators is hard-coded in the parser. To circumvent default precedence, just use parentheses.</p
      ><table
      ><thead
	><tr class="header"
	  ><th align="left"
	    >Operator/Function</th
	    ><th align="left"
	    >Associativity</th
	    ><th align="left"
	    >Description</th
	    ></tr
	  ></thead
	><tbody
	><tr class="odd"
	  ><td align="left"
	    >any function,$()</td
	    ><td align="left"
	    >right</td
	    ><td align="left"
	    >any built-in function, expression</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >.</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >class/property name separator</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >[ ]</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >collection element selection</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&amp;,*</td
	    ><td align="left"
	    >right</td
	    ><td align="left"
	    >reference, dereference</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >-, ~</td
	    ><td align="left"
	    >right</td
	    ><td align="left"
	    >unary minus, unary bit inversion</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >^</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >exponentiation</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >*,/,%</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >multiplication, division, modulo</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >+,-</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >addition, subtraction</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >||</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >string concatenation</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&lt;&lt;,&gt;&gt;,&gt;&gt;&gt;</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >bitwise shift left, bitwise shift right, bitwise unsigned shift right</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >&amp;</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >bitwise and</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >^</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >bitwise xor (exclusive or)</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >|</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >bitwise or (inclusive or)</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >IS A, IS NOT A</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >class membership check, e.g. afy:pinID IS A class_name</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >IS, IS NOT</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >IS TRUE, IS FALSE, IS UNKNOWN, IS NULL,</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >IN</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >collection membership</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >BETWEEN...AND...</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >range containment</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >&lt;,&lt;=,&gt;, &gt;=</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >less than, less than or equal to, greater than, greater than or equal to</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >=,&lt;&gt;</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >equal, not equal</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >NOT</td
	    ><td align="left"
	    >right</td
	    ><td align="left"
	    >logical negation</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >AND</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >logical conjunction</td
	    ></tr
	  ><tr class="even"
	  ><td align="left"
	    >OR</td
	    ><td align="left"
	    >left</td
	    ><td align="left"
	    >logical disjunction</td
	    ></tr
	  ><tr class="odd"
	  ><td align="left"
	    >${}</td
	    ><td align="left"
	    >right</td
	    ><td align="left"
	    >query</td
	    ></tr
	  ></tbody
	></table
      ></div
    ></div
  ><div id="statements-bnf"
  ><h2
    >Statements (BNF)</h2
    ><p
    >In this section we describe the pathSQL BNF. Here are the display conventions used:</p
    ><table
    ><thead
      ><tr class="header"
	><th align="left"
	  >Expression</th
	  ><th align="left"
	  >Meaning</th
	  ></tr
	></thead
      ><tbody
      ><tr class="odd"
	><td align="left"
	  >UPPERCASE</td
	  ><td align="left"
	  >KEYWORD</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >lowercase</td
	  ><td align="left"
	  >terminal or non-terminal fragment of statement</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >[ ]</td
	  ><td align="left"
	  >optional fragment</td
	  ></tr
	><tr class="even"
	><td align="left"
	  >{A|B}</td
	  ><td align="left"
	  >choose fragment A or B</td
	  ></tr
	><tr class="odd"
	><td align="left"
	  >...</td
	  ><td align="left"
	  >repeat the previous statement fragment type</td
	  ></tr
	></tbody
      ></table
    ><div id="store-management-statements"
    ><h3
      >Store Management Statements</h3
      ><p
      >Synopsis:</p
      ><ul
      ><li
	>CREATE STORE [IN 'directory'] [OPTIONS(...)], where options have format: NAME=value[,NAME=value..]</li
	><li
	>DROP STORE [IN 'directory']</li
	><li
	>MOVE STORE [FROM 'source directory'] TO 'destination directory'</li
	><li
	>OPEN STORE [IN 'directory'] [OPTIONS(...)]</li
	><li
	>CLOSE STORE</li
	></ul
      ><p
      >If 'directory' is not specified, Affinity defaults to the &quot;current directory&quot; (platform dependent).</p
      ><p
      ><em
	>Note</em
	>: The C++ API for these statements (<code
	>manageStores(...)</code
	>) is different from the API for other statements (<code
	>ISession.createStmt(...)</code
	>), because store management statements are not necessarily bound to a db connection.</p
      ><p
      >List of option names for OPEN and CREATE (case insensitive):</p
      ><ul
      ><li
	>NBUFFERS=number<br
	   /></li
	><li
	>LOGBUFSIZE=number<br
	   /></li
	><li
	>MAXFILES=number<br
	   /></li
	><li
	>SHUTDOWNASYNCTIMEOUT=number<br
	   /></li
	><li
	>PASSWORD='string'<br
	   /></li
	><li
	>LOGDIRECTORY='directory' (mapped using call to IMapDir::map(SO_LOG...) if provided)<br
	   /></li
	><li
	>SERVICEDIRECTORY='directory'</li
	></ul
      ><p
      >Additional option names for CREATE:</p
      ><ul
      ><li
	>PAGESIZE=number<br
	   /></li
	><li
	>FILEEXTENTSIZE=number<br
	   /></li
	><li
	>OWNER='string'<br
	   /></li
	><li
	>STOREID=number<br
	   /></li
	><li
	>ENCRYPTED={TRUE|FALSE}<br
	   /></li
	><li
	>MAXSIZE=number<br
	   /></li
	><li
	>LOGSEGSIZE=number<br
	   /></li
	><li
	>PCTFREE=floating or double number</li
	></ul
      ><p
      >Options can be specified in any order.</p
      ></div
    ><div id="ddl"
    ><h3
      >DDL</h3
      ><p
      >A description of pathSQL's <a href="./pathSQL%20reference%20[definition].html"
	>Data Definition Language</a
	>.</p
      ></div
    ><div id="dml"
    ><h3
      >DML</h3
      ><p
      >A description of pathSQL's <a href="./pathSQL%20reference%20[manipulation].html"
	>Data Manipulation Language</a
	>.</p
      ></div
    ></div
  ></div
>
</div>
